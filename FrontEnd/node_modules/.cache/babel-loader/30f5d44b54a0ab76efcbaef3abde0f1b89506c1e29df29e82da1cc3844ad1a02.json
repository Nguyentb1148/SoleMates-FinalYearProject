{"ast":null,"code":"import axios from 'axios';\nconst baseLink = 'http://localhost:5163';\nconst songApi = axios.create({\n  baseURL: `${baseLink}/api/Song`,\n  // Specify the base URL for SongController API\n  headers: {\n    'Content-Type': 'multipart/form-data' // Use multipart/form-data for file uploads\n  }\n});\nsongApi.interceptors.request.use(config => {\n  console.log(\"Interceptor hit for URL:\", config.url); // Debugging\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Function to get all songs\nconst getAllSongs = async () => {\n  try {\n    const response = await songApi.get('');\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to get all songs by user ID\nconst getAllSongsByUserId = async userId => {\n  try {\n    const response = await songApi.get(`user/${userId}`);\n    const songs = response.data;\n\n    // Paginate the songs data\n    const pageSize = 10; // Number of songs per page\n    const paginatedSongs = [];\n    for (let i = 0; i < songs.length; i += pageSize) {\n      paginatedSongs.push(songs.slice(i, i + pageSize));\n    }\n\n    // Save paginated songs data into local storage\n    localStorage.setItem('paginatedSongs', JSON.stringify(paginatedSongs));\n    return paginatedSongs;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to search songs by title\nconst searchByTitle = async title => {\n  try {\n    const response = await songApi.get('search', {\n      params: {\n        title\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to add a new song\nconst addNewSong = async songData => {\n  try {\n    const response = await songApi.post('', songData);\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to update a song by ID\nconst updateSongById = async (id, updatedSongData) => {\n  try {\n    const response = await songApi.put(`${id}`, updatedSongData);\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to delete a song by ID\nconst deleteSongById = async id => {\n  try {\n    const response = await songApi.delete(`${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\nexport { getAllSongs, getAllSongsByUserId, searchByTitle, addNewSong, updateSongById, deleteSongById };","map":{"version":3,"names":["axios","baseLink","songApi","create","baseURL","headers","interceptors","request","use","config","console","log","url","token","localStorage","getItem","Authorization","error","Promise","reject","getAllSongs","response","get","data","getAllSongsByUserId","userId","songs","pageSize","paginatedSongs","i","length","push","slice","setItem","JSON","stringify","searchByTitle","title","params","addNewSong","songData","post","updateSongById","id","updatedSongData","put","deleteSongById","delete"],"sources":["/Users/nguyentran/Desktop/FYPProject/FrontEnd/src/Api/SongApi.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseLink = 'http://localhost:5163';\n\nconst songApi = axios.create({\n    baseURL: `${baseLink}/api/Song`, // Specify the base URL for SongController API\n    headers: {\n        'Content-Type': 'multipart/form-data' // Use multipart/form-data for file uploads\n    }\n});\n\nsongApi.interceptors.request.use((config) => {\n    console.log(\"Interceptor hit for URL:\", config.url); // Debugging\n    const token = localStorage.getItem('token');\n    if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n}, (error) => {\n    return Promise.reject(error);\n});\n\n// Function to get all songs\nconst getAllSongs = async () => {\n    try {\n        const response = await songApi.get('');\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\n// Function to get all songs by user ID\nconst getAllSongsByUserId = async (userId) => {\n    try {\n        const response = await songApi.get(`user/${userId}`);\n        const songs = response.data;\n\n        // Paginate the songs data\n        const pageSize = 10; // Number of songs per page\n        const paginatedSongs = [];\n        for (let i = 0; i < songs.length; i += pageSize) {\n            paginatedSongs.push(songs.slice(i, i + pageSize));\n        }\n\n        // Save paginated songs data into local storage\n        localStorage.setItem('paginatedSongs', JSON.stringify(paginatedSongs));\n\n        return paginatedSongs;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n}\n\n\n// Function to search songs by title\nconst searchByTitle = async (title) => {\n    try {\n        const response = await songApi.get('search', {\n            params: { title }\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\n// Function to add a new song\nconst addNewSong = async (songData) => {\n    try {\n        const response = await songApi.post('', songData);\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\n// Function to update a song by ID\nconst updateSongById = async (id, updatedSongData) => {\n    try {\n        const response = await songApi.put(`${id}`, updatedSongData);\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\n// Function to delete a song by ID\nconst deleteSongById = async (id) => {\n    try {\n        const response = await songApi.delete(`${id}`);\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\nexport { getAllSongs, getAllSongsByUserId, searchByTitle, addNewSong, updateSongById, deleteSongById };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}