{"ast":null,"code":"var _jsxFileName = \"/Users/nguyentran/Desktop/FYPProject/FrontEnd/src/Pages/Album/EditAlbum.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getAlbumById, getAllSongsInAlbum, addSongToAlbum, deleteAlbum, removeSongFromAlbum } from '../../Api/ArtistApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditAlbum = () => {\n  _s();\n  const [album, setAlbum] = useState(null);\n  const [songs, setSongs] = useState([]);\n  const {\n    albumId\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    loadAlbum();\n    loadSongs();\n  }, [albumId]);\n  const loadAlbum = async () => {\n    try {\n      const fetchedAlbum = await getAlbumById(albumId);\n      setAlbum(fetchedAlbum);\n    } catch (error) {\n      console.error('Error fetching album:', error);\n    }\n  };\n  const loadSongs = async () => {\n    try {\n      const fetchedSongs = await getAllSongsInAlbum(albumId);\n      setSongs(fetchedSongs);\n    } catch (error) {\n      console.error('Error fetching songs:', error);\n    }\n  };\n  const handleDeleteAlbum = async () => {\n    await deleteAlbum(albumId);\n    navigate('/albums');\n  };\n  const handleRemoveSong = async songId => {\n    await removeSongFromAlbum({\n      albumId,\n      songId\n    });\n    loadSongs(); // Refresh songs list\n  };\n  const handleAddSongToAlbum = async songId => {\n    await addSongToAlbum(albumId, {\n      albumId,\n      songId\n    });\n    loadSongs(); // Refresh songs list\n  };\n  if (!album) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Edit Album: \", album.nameOfAlbum]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Songs in Album\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), songs.map(song => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [song.title, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRemoveSong(song.songId),\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)]\n      }, song.songId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDeleteAlbum,\n      children: \"Delete Album\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_s(EditAlbum, \"TvJzb2OoPoztEjgnrrLo4UVvhLQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditAlbum;\nexport default EditAlbum;\nvar _c;\n$RefreshReg$(_c, \"EditAlbum\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","getAlbumById","getAllSongsInAlbum","addSongToAlbum","deleteAlbum","removeSongFromAlbum","jsxDEV","_jsxDEV","EditAlbum","_s","album","setAlbum","songs","setSongs","albumId","navigate","loadAlbum","loadSongs","fetchedAlbum","error","console","fetchedSongs","handleDeleteAlbum","handleRemoveSong","songId","handleAddSongToAlbum","children","fileName","_jsxFileName","lineNumber","columnNumber","nameOfAlbum","map","song","title","onClick","_c","$RefreshReg$"],"sources":["/Users/nguyentran/Desktop/FYPProject/FrontEnd/src/Pages/Album/EditAlbum.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n    getAlbumById,\n    getAllSongsInAlbum,\n    addSongToAlbum,\n    deleteAlbum,\n    removeSongFromAlbum\n} from '../../Api/ArtistApi';\n\nconst EditAlbum = () => {\n    const [album, setAlbum] = useState(null);\n    const [songs, setSongs] = useState([]);\n    const { albumId } = useParams();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        loadAlbum();\n        loadSongs();\n    }, [albumId]);\n\n    const loadAlbum = async () => {\n        try {\n            const fetchedAlbum = await getAlbumById(albumId);\n            setAlbum(fetchedAlbum);\n        } catch (error) {\n            console.error('Error fetching album:', error);\n        }\n    };\n\n    const loadSongs = async () => {\n        try {\n            const fetchedSongs = await getAllSongsInAlbum(albumId);\n            setSongs(fetchedSongs);\n        } catch (error) {\n            console.error('Error fetching songs:', error);\n        }\n    };\n\n    const handleDeleteAlbum = async () => {\n        await deleteAlbum(albumId);\n        navigate('/albums');\n    };\n\n    const handleRemoveSong = async (songId) => {\n        await removeSongFromAlbum({ albumId, songId });\n        loadSongs(); // Refresh songs list\n    };\n\n    const handleAddSongToAlbum = async (songId) => {\n        await addSongToAlbum(albumId, { albumId, songId });\n        loadSongs(); // Refresh songs list\n    };\n\n    if (!album) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <div>\n            <h1>Edit Album: {album.nameOfAlbum}</h1>\n            <div>\n                <h2>Songs in Album</h2>\n                {songs.map(song => (\n                    <div key={song.songId}>\n                        {song.title}\n                        <button onClick={() => handleRemoveSong(song.songId)}>Remove</button>\n                    </div>\n                ))}\n            </div>\n            <button onClick={handleDeleteAlbum}>Delete Album</button>\n        </div>\n    );\n};\n\nexport default EditAlbum;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}