{"ast":null,"code":"import axios from 'axios';\nconst baseLink = 'http://localhost:5163';\nconst songApi = axios.create({\n  baseURL: `${baseLink}/api/Song`,\n  // Specify the base URL for SongController API\n  headers: {\n    'Content-Type': 'multipart/form-data' // Use multipart/form-data for file uploads\n  }\n});\nsongApi.interceptors.request.use(config => {\n  console.log(\"Interceptor hit for URL:\", config.url); // Debugging\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\nconst deleteSongById = async id => {\n  try {\n    const response = await songApi.delete(`${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\nconst getAllSongsByUserId = async userId => {\n  try {\n    const response = await songApi.get(`user/${userId}`);\n    const songs = response.data;\n    const pageSize = 10; // Number of songs per page\n    const paginatedSongs = [];\n    for (let i = 0; i < songs.length; i += pageSize) {\n      paginatedSongs.push(songs.slice(i, i + pageSize));\n    }\n    return paginatedSongs;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\nconst getAllSongs = async () => {\n  try {\n    const response = await songApi.get('');\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to search songs by title\nconst searchByTitle = async title => {\n  try {\n    const response = await songApi.get('search', {\n      params: {\n        title\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to add a new song\nconst addNewSong = async songData => {\n  try {\n    const response = await songApi.post('', songData);\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to update a song by ID\nconst updateSongById = async (id, updatedSongData) => {\n  try {\n    const response = await songApi.put(`${id}`, updatedSongData);\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    throw error;\n  }\n};\n\n// Function to delete a song by ID\n\nexport { getAllSongs, getAllSongsByUserId, searchByTitle, addNewSong, updateSongById, deleteSongById };","map":{"version":3,"names":["axios","baseLink","songApi","create","baseURL","headers","interceptors","request","use","config","console","log","url","token","localStorage","getItem","Authorization","error","Promise","reject","deleteSongById","id","response","delete","data","getAllSongsByUserId","userId","get","songs","pageSize","paginatedSongs","i","length","push","slice","getAllSongs","searchByTitle","title","params","addNewSong","songData","post","updateSongById","updatedSongData","put"],"sources":["/Users/nguyentran/Desktop/FYPProject/FrontEnd/src/Api/SongApi.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseLink = 'http://localhost:5163';\n\nconst songApi = axios.create({\n    baseURL: `${baseLink}/api/Song`, // Specify the base URL for SongController API\n    headers: {\n        'Content-Type': 'multipart/form-data' // Use multipart/form-data for file uploads\n    }\n});\nsongApi.interceptors.request.use((config) => {\n    console.log(\"Interceptor hit for URL:\", config.url); // Debugging\n    const token = localStorage.getItem('token');\n    if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n}, (error) => {\n    return Promise.reject(error);\n});\n\nconst deleteSongById = async (id) => {\n    try {\n        const response = await songApi.delete(`${id}`);\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\nconst getAllSongsByUserId = async (userId) => {\n    try {\n        const response = await songApi.get(`user/${userId}`);\n        const songs = response.data;\n\n        const pageSize = 10; // Number of songs per page\n        const paginatedSongs = [];\n        for (let i = 0; i < songs.length; i += pageSize) {\n            paginatedSongs.push(songs.slice(i, i + pageSize));\n        }\n\n        return paginatedSongs;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n}\n\nconst getAllSongs = async () => {\n    try {\n        const response = await songApi.get('');\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\n// Function to search songs by title\nconst searchByTitle = async (title) => {\n    try {\n        const response = await songApi.get('search', {\n            params: { title }\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\n// Function to add a new song\nconst addNewSong = async (songData) => {\n    try {\n        const response = await songApi.post('', songData);\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\n// Function to update a song by ID\nconst updateSongById = async (id, updatedSongData) => {\n    try {\n        const response = await songApi.put(`${id}`, updatedSongData);\n        return response.data;\n    } catch (error) {\n        console.error('Error:', error);\n        throw error;\n    }\n};\n\n// Function to delete a song by ID\n\n\nexport { getAllSongs, getAllSongsByUserId, searchByTitle, addNewSong, updateSongById, deleteSongById };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,uBAAuB;AAExC,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EACzBC,OAAO,EAAG,GAAEH,QAAS,WAAU;EAAE;EACjCI,OAAO,EAAE;IACL,cAAc,EAAE,qBAAqB,CAAC;EAC1C;AACJ,CAAC,CAAC;AACFH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACzCC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,MAAM,CAACG,GAAG,CAAC,CAAC,CAAC;EACrD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACPJ,MAAM,CAACJ,OAAO,CAACW,aAAa,GAAI,UAASH,KAAM,EAAC;EACpD;EACA,OAAOJ,MAAM;AACjB,CAAC,EAAGQ,KAAK,IAAK;EACV,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,MAAMG,cAAc,GAAG,MAAOC,EAAE,IAAK;EACjC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMpB,OAAO,CAACqB,MAAM,CAAE,GAAEF,EAAG,EAAC,CAAC;IAC9C,OAAOC,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACZP,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,MAAMA,KAAK;EACf;AACJ,CAAC;AACD,MAAMQ,mBAAmB,GAAG,MAAOC,MAAM,IAAK;EAC1C,IAAI;IACA,MAAMJ,QAAQ,GAAG,MAAMpB,OAAO,CAACyB,GAAG,CAAE,QAAOD,MAAO,EAAC,CAAC;IACpD,MAAME,KAAK,GAAGN,QAAQ,CAACE,IAAI;IAE3B,MAAMK,QAAQ,GAAG,EAAE,CAAC,CAAC;IACrB,MAAMC,cAAc,GAAG,EAAE;IACzB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACI,MAAM,EAAED,CAAC,IAAIF,QAAQ,EAAE;MAC7CC,cAAc,CAACG,IAAI,CAACL,KAAK,CAACM,KAAK,CAACH,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAAC,CAAC;IACrD;IAEA,OAAOC,cAAc;EACzB,CAAC,CAAC,OAAOb,KAAK,EAAE;IACZP,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,MAAMA,KAAK;EACf;AACJ,CAAC;AAED,MAAMkB,WAAW,GAAG,MAAAA,CAAA,KAAY;EAC5B,IAAI;IACA,MAAMb,QAAQ,GAAG,MAAMpB,OAAO,CAACyB,GAAG,CAAC,EAAE,CAAC;IACtC,OAAOL,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACZP,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;AACA,MAAMmB,aAAa,GAAG,MAAOC,KAAK,IAAK;EACnC,IAAI;IACA,MAAMf,QAAQ,GAAG,MAAMpB,OAAO,CAACyB,GAAG,CAAC,QAAQ,EAAE;MACzCW,MAAM,EAAE;QAAED;MAAM;IACpB,CAAC,CAAC;IACF,OAAOf,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACZP,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;AACA,MAAMsB,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACnC,IAAI;IACA,MAAMlB,QAAQ,GAAG,MAAMpB,OAAO,CAACuC,IAAI,CAAC,EAAE,EAAED,QAAQ,CAAC;IACjD,OAAOlB,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACZP,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;AACA,MAAMyB,cAAc,GAAG,MAAAA,CAAOrB,EAAE,EAAEsB,eAAe,KAAK;EAClD,IAAI;IACA,MAAMrB,QAAQ,GAAG,MAAMpB,OAAO,CAAC0C,GAAG,CAAE,GAAEvB,EAAG,EAAC,EAAEsB,eAAe,CAAC;IAC5D,OAAOrB,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACZP,OAAO,CAACO,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;;AAGA,SAASkB,WAAW,EAAEV,mBAAmB,EAAEW,aAAa,EAAEG,UAAU,EAAEG,cAAc,EAAEtB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}